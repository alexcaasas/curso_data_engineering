version: 2

sources:
  - name: desarrollo
    description: ""
    database: "{{ env_var('DBT_ENVIRONMENTS') }}_bronze_db"
    schema: accidentes_trafico
    tables:
      - name: accidentes_final
        description: ""
        columns:
          - name: ano
            data_type: number
            description: ""
          - name: data
            data_type: varchar
            description: ""
            tests: 
              - not_null
          - name: territorio_intcf
            data_type: varchar
            description: ""
          - name: ccaa
            data_type: varchar
            description: ""
          - name: provincia
            data_type: varchar
            description: ""
          - name: organismo
            data_type: varchar
            description: ""
          - name: zona
            data_type: varchar
            description: ""
          - name: rol_no_siniestro
            data_type: varchar
            description: ""
          - name: tipo_vehiculo
            data_type: varchar
            description: ""
          - name: rango_de_edade
            data_type: varchar
            description: ""
          - name: sexo
            data_type: varchar
            description: ""
          - name: resultado_toxicoloxico
            data_type: varchar
            description: ""
          - name: etanol
            data_type: varchar
            description: ""
            tests:
              - accepted_values:
                  values: ['+' , '-']
          - name: drogas
            data_type: varchar
            description: ""
            tests:
              - accepted_values:
                  values: ['+' , '-']
          - name: cocaina
            data_type: varchar
            description: ""
            tests:
              - accepted_values:
                  values: ['+' , '-']
          - name: cannabis
            data_type: varchar
            description: ""
            tests:
              - accepted_values:
                  values: ['+' , '-']
          - name: opiaceos
            data_type: varchar
            description: ""
          - name: anfetamina_y_relacionados
            data_type: varchar
            description: ""
          - name: cetamina
            data_type: varchar
            description: ""
          - name: psicofarmacos
            data_type: varchar
            description: ""
          - name: benzodiacepinas
            data_type: varchar
            description: ""
          - name: antipsicoticos
            data_type: varchar
            description: ""
          - name: antidepresivos
            data_type: varchar
            description: ""
            tests:
              - accepted_values:
                  values: ['+' , '-']
          - name: antiepilepticos
            data_type: varchar
            description: ""
          - name: opioides
            data_type: varchar
            description: ""
          - name: victimas_mortales
            data_type: number
            description: ""
            tests:
              - valores_no_negativos
          - name: victimas_toxic_positivo
            data_type: number
            description: ""
            tests:
              - valores_no_negativos
          - name: resultado_toxic_positivo
            data_type: number
            description: ""
            tests:
              - valores_no_negativos
          - name: dni
            data_type: varchar
            description: ""
            tests:
              - not_null
          - name: matricula
            data_type: varchar
            description: ""
            tests:
              - not_null
